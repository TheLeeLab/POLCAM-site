
<!DOCTYPE html>
<!-- specify language (british english) and reading direction (left to right) -->
<html lang="en-gb" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- descriptive sentence that shows up in google search results -->
    <meta name="description" content="Documentation on hardware, software and experimental implementation of molecular orientation fluorescence microscopy using polarisation cameras.">
    <!-- title of the page (e.g. shown in tab or when bookmarked) -->
    <title>POLCAM-SR | POLCAM</title>
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="images/favicon_io/site.webmanifest">
    <!-- main stylesheet -->
    <link rel="stylesheet" href="stylesheets/styles.css">
  </head>
  
  <body>
    <div class="wrapper">
    
      <header>

        <div class="navigationbar">
          <!-- logo on top left of navigation bar -->
          <div class="logo_navigationbar">
            <a href="index.html">
              <img alt="logo" src="./images/logo_polcam.svg" width="170px">
            </a>
          </div>
          <!-- 'Contact' link on top right of navigation bar -->
          <a href="contact.html">Contact</a>
          <!-- 'Software' dropdown on top right of navigation bar -->
          <div class="dropdown">
            <button class="dropbtn">Software 
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
              <a href="software_polcam_sr.html">POLCAM-SR</a>
              <a href="software_polcam_live.html">POLCAM-Live</a>
              <a href="software_napari_polcam.html">napari-polcam</a>
            </div>
          </div> 
          <!-- 'Hardware' and 'Home' link on top right of navigation bar -->
          <a href="hardware.html">Hardware</a>
          <a href="index.html">Home</a>
        </div>
        
      </header>
      
      <div class="sidebar">
        <p class="sidebar_title">CONTENT</p>
        <ol>
          <li><a href="#system_requirements" target="_self">System requirements</a></li>
          <li><a href="#installation_guide" target="_self">Installation guide</a></li>
          <li><a href="#demo" target="_self">Demo</a></li>
          <li><a href="#help" target="_self">Help</a></li>
        </ol>
      </div>

      <main>
        <section>
          <h1>Software: POLCAM-SR</h1>
          
          <p><strong>POLCAM-SR</strong> is a MATLAB application for processing, analysing and rendering single-molecule polarisation camera image data. The source code is available on github at <a href="https://github.com/ezrabru/POLCAM-SR">https://github.com/ezrabru/POLCAM-SR</a></p>

          <p>Download the latest stable installer here: <a href="https://github.com/ezrabru/POLCAM-SR/raw/main/POLCAM-SR/POLCAM-SR.mlappinstall">Download installer</a></p>

          <!-- System requirements chapter -->
          <h2 id="system_requirements">System requirements</h2>
          <ul>
            <li>MATLAB license</li>
            <li>MATLAB Toolboxes: Parallel Computing, Optimization, Image processing, Curve fitting, Statistics and Machine Learning</li>
            <li>The software has been tested on Mac (macOS Monterey Version 12.6) and Windows (Windows 11 Pro Version 22H2) computers. The software was developed and tested using MATLAB version R2022a.</li>
          </ul>

          <!-- Installation guide chapter -->
          <h2 id="installation_guide">Installation guide</h2>
          <p>
            POLCAM-SR can be installed as a MATLAB App by downloading the installer and following the instructions. <a href="https://github.com/ezrabru/POLCAM-SR/raw/main/POLCAM-SR/POLCAM-SR.mlappinstall">Click here</a> to download the latest stable installer. After installation is finished, the app can be opened from the "APPS" tab in MATLAB (red arrow in screenshot below).
          </p>

          <img src="images/software/polcam_sr/matlab_apps_tab.png" alt="Screenshot of the MATLAB graphical user interface indicating where the POLCAM-SR App can be accessed.">

          <p>
            The typical install time on a standard desktop computer takes a few minutes. If you encounter any issues during installation, please email us at <a href="mailto:eb758@cam.ac.uk?subject=POLCAM-SR question">eb758@cam.ac.uk</a> or <a href="https://github.com/ezrabru/POLCAM-SR/issues">report an issue</a> on the github repository.
          </p> 
          

          <!-- Demo chapter -->
          <h2 id="demo">Demo</h2>
          <p>A test dataset (TAB-PAINT of alpha-synuclein fibrils using Nile red) is included in the installation of POLCAM-SR. The following are some instructions to walk the user through a typical data processing pipeline in POLCAM-SR using this test dataset.</p>          
          
          <ol>
            <li>
              <p><strong>Opening a dataset</strong>: In the POLCAM-SR app main window, select 'File > Open samples... > Fibrils' to open the testdataset (alternatively use the shortcut 'ctrl + shift + F'). A new window will open showing the first frame in the dataset. Clicking the arrow buttons on this window allows scrolling through the images (or use the left and right arrow keys on your keyboard).</p>
            </li>

            <li>
              <p><strong>Localisation and orientation estimation</strong>: Select 'Process > Single-molecule... > Localise' to open the localisation window. Localisation requires 5 classes of input parameters. For the test dataset the settings as displayed in the screenshot below can be used:</p>
              <img src="images/software/polcam_sr/localisation_settings_testdata_fibrils.png" alt="Screenshot of the localisation gui window.">
              <p>To see the candidate localisation that the software will pick out as an overlay on the image data, turn on "Live preview" in box 5 in the localisation window. Green boxes will mark localisation candidates that will be updated as the user changes settings (e.g. the DoG threshold slider). To start localisation, click the "Start localisation" button on the bottom right corner of the window. The progress will be shown on the main POLCAM-SR gui.</p>
              <p>This is an example where the DoG threshold was set too low:
              <img src="images/software/polcam_sr/localisation_load_testdata_fibrils_live_preview_too_many.png" alt="Screenshot of the localisation result."></p>
              This is an example where the DoG threshold was set correctly:
              <p><img src="images/software/polcam_sr/localisation_load_testdata_fibrils_live_preview_good.png" alt="Screenshot of the localisation result."></p>
              <p>When localisation has finished, a results file will be saved in the same folder as the images and a new window will open showing a colour coded scatter plot of the dataset. By default the colour coding is the in-plane angle phi.</p>
              <img src="images/software/polcam_sr/localisation_result.png" alt="Screenshot of the localisation result.">
            </li>

            <li>
              <p><strong>Filtering</strong>: After localisation has finished, filtering can be applied to the localisations to remove e.g. localisations with less than 500 detected photons. To open the filtering window, select 'Process > Single-molecule... > Filter'. Minimum and maximum threhold values for different parameters can be changed in the "Filtering parameters" panel. To help with selecting thresholds, the data can be plotted as a colour coded scatter plot, 1D histogram or 2D histogram. To save a the filtered localisations, click "Save filtered localisations".</p>
            </li>
            <p><img src="images/software/polcam_sr/filtering_testdata_fibrils.png" alt="Screenshot of the filtering window."></p>

            <li>
              <p><strong>Drift-correction</strong>: The localisation can be drift-corrected by selecting 'Process > Single-molecule... > Correct drift'. This opens a new window that shows the (filtered) localisations as a scatter plot colour coded by the frame number (i.e. "time") to make it easy to see if there is any drift. Select RCC (redundant cross correlation) and set "Frames per segment" to 1000, and "Spatial binsize" to 50 nm. Click on "Calculate drift". When finished, the scatter plot wil display the drift corrected data. It is possible to toggle between displaying the localisations "before" and "after" drift correction using the toggle button. To accept this round of drift correction, click "Apply drift correction". The user can then choose to save the result (by clicking "Save drift-corrected localisations"), or apply more rounds of drift correction (by clicking "Calculate drift" again).</p>
            </li>
            <p><img src="images/software/polcam_sr/drift_correction_testdata_fibrils.png" alt="Screenshot of the drift correction window."></p>

            <li>
              <p><strong>Visualization</strong>: Some tools are included in POLCAM-SR to generate formatted and colour-coded scatter plots of the localisations, generate histograms of different parameters and plot the localisation rate versus time. These tools can be accessed by clicking 'Analyse > Plot localisations...' and selecting one of the options.</p>
              <p>By default the figure rendering theme in POLCAM-SR is set to 'dark' (black background). This can be changed at any time by selecting 'POLCAM-SR > Settings > Figure settings... > Theme'.</p>
            </li>
          </ol>
          
          <!-- Help chapter -->
          <h2 id="help">Help</h2>
          If you encounter any issues during installation or use of the software, please email us at <a href="mailto:eb758@cam.ac.uk?subject=POLCAM-SR question">eb758@cam.ac.uk</a> or <a href="https://github.com/ezrabru/POLCAM-SR/issues">report an issue</a> on the github repository.

          <br></br><br></br>
          
        </section>
      </main>
      
    </div>
  </body>

  <!--
    <footer>
    <p>Contact: eb758@cam.ac.uk</p>
  </footer>
  -->
  
</html>

